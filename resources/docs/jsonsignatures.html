<!DOCTYPE html><html><head><title>JSON Signatures</title><meta http-equiv=Content-Type content="text/html; charset=utf-8"><style type="text/css">
body {font-size:8pt;color:#000000;font-family:verdana,arial;background-color:white;margin:10pt}
a {font-weight:bold;font-size:8pt;color:blue;font-family:arial,verdana;text-decoration:none}
table {border-spacing:0;border-collapse: collapse;box-shadow:3pt 3pt 3pt #D0D0D0}
td {border-color:black;border-style:solid;border-width:1px;padding:2pt 4pt 2pt 4pt;font-size:8pt;font-family:verdana,arial;text-align:center}
div.json {margin-top:8pt;margin-bottom:15pt;word-wrap:break-word;width:800pt;background:#F8F8F8;border-width:1px;border-style:solid;border-color:grey;padding:10pt;box-shadow:3pt 3pt 3pt #D0D0D0}
div.text {width:800pt}
div.header {font-size:12pt;margin-top:15pt;margin-bottom:8pt;font-family:arial,verdana}
code {font-size:9pt;font-family:'Courier New',Courier}
</style></head><body><div style="cursor:pointer;padding:2pt 0 0 0;width:100pt;height:47pt;border-width:1px;border-style:solid;border-color:black;box-shadow:3pt 3pt 3pt #D0D0D0" onclick="document.location.href='http://webpki.org'" title="Home of WebPKI.org"><svg viewBox="0 0 215 96" xmlns="http://www.w3.org/2000/svg">
<g>
<path fill="rgb(0,102,255)" d="M 59.4,52 L 55.15,52  47.47,27.05 C 47.27,26.37 47.05,25.6 46.82,24.72  46.6,23.85 46.37,23.02 46.17,22.2  45.95,21.25 45.7,20.3 45.47,19.32  45.25,20.3 45.02,21.25 44.8,22.2  44.6,23.02 44.4,23.87 44.17,24.75  43.95,25.62 43.72,26.4 43.5,27.05 L 35.9,52  31.65,52  20.32,15.64  24.22,15.64  31.57,39.75 C 31.92,40.85 32.25,41.92 32.52,42.97  32.79,44.05 33.02,45 33.25,45.85 L 33.97,48.67 C 34.25,47.5 34.52,46.37 34.79,45.25  35.02,44.27 35.29,43.27 35.6,42.22  35.87,41.2 36.15,40.27 36.37,39.47 L 43.67,15.64  47.32,15.64  54.62,39.47 C 54.87,40.25 55.15,41.15 55.42,42.2  55.7,43.25 55.97,44.25 56.22,45.22  56.5,46.35 56.77,47.5 57.07,48.67  57.1,48.67 57.2,48.37 57.35,47.77  57.5,47.17 57.7,46.42 57.92,45.52  58.15,44.62 58.42,43.65 58.72,42.6  59,41.55 59.27,40.6 59.55,39.75 L 66.75,15.64  70.72,15.64  59.4,52 z"/>
<path fill="rgb(0,102,255)" d="M 73.67,39.57 C 73.67,41.02 73.84,42.37 74.22,43.62  74.57,44.9 75.12,45.97 75.87,46.87  76.62,47.8 77.57,48.52 78.72,49.05  79.87,49.57 81.25,49.85 82.85,49.85  84.87,49.85 86.6,49.4 88,48.52  89.37,47.65 90.35,46.45 90.9,44.97 L 94.19,45.55 C 93.92,46.27 93.5,47.05 92.94,47.87  92.4,48.7 91.67,49.45 90.77,50.12  89.87,50.8 88.77,51.37 87.47,51.82  86.15,52.3 84.57,52.52 82.72,52.52  80.8,52.52 79.05,52.22 77.47,51.62  75.89,51.05 74.57,50.15 73.5,48.97  72.39,47.8 71.55,46.37 70.95,44.65  70.34,42.92 70.05,40.95 70.05,38.67  70.05,36.15 70.42,34.04 71.14,32.32  71.87,30.6 72.82,29.22 74,28.15  75.17,27.1 76.52,26.35 78.05,25.9  79.55,25.45 81.07,25.22 82.62,25.22  84.69,25.22 86.5,25.55 88.02,26.22  89.55,26.9 90.8,27.82 91.77,29.02  92.75,30.25 93.44,31.67 93.92,33.32  94.4,34.97 94.62,36.79 94.62,38.77 L 94.62,39.57  73.67,39.57 z M 82.62,27.9 C 81.5,27.9 80.42,28.05 79.39,28.37  78.34,28.7 77.42,29.22 76.62,29.95  75.8,30.67 75.14,31.62 74.62,32.77  74.09,33.92 73.82,35.32 73.75,36.97 L 91.12,36.97 C 91.02,35.57 90.8,34.32 90.42,33.2  90.05,32.07 89.5,31.12 88.82,30.35  88.12,29.57 87.27,28.95 86.25,28.52  85.22,28.1 84.02,27.9 82.62,27.9 z"/>
<path fill="rgb(0,102,255)" d="M 124.72,38.75 C 124.72,40.7 124.49,42.52 124.04,44.2  123.57,45.9 122.87,47.35 121.92,48.57  120.94,49.8 119.74,50.77 118.27,51.47  116.79,52.17 115.1,52.52 113.12,52.52  110.9,52.52 108.94,52.05 107.27,51.1  105.57,50.15 104.29,48.85 103.44,47.17 L 103.37,47.17 C 103.37,47.65 103.37,48.15 103.35,48.7  103.32,49.25 103.29,49.75 103.27,50.22  103.24,50.7 103.22,51.1 103.19,51.42  103.17,51.75 103.15,51.95 103.12,52 L 99.79,52 C 99.79,51.92 99.79,51.7 99.82,51.35  99.82,51.02 99.82,50.6 99.85,50.07  99.87,49.57 99.87,49 99.9,48.35  99.9,47.72 99.9,47.07 99.9,46.4 L 99.9,14.52  103.44,14.52  103.44,26.4 C 103.44,26.92 103.44,27.42 103.44,27.92  103.44,28.42 103.42,28.9 103.4,29.32  103.37,29.82 103.37,30.3 103.35,30.72 L 103.44,30.72 C 104.42,28.95 105.74,27.57 107.37,26.62  108.99,25.7 111.1,25.22 113.62,25.22  115.52,25.22 117.17,25.57 118.54,26.25  119.92,26.95 121.07,27.9 121.99,29.1  122.92,30.3 123.6,31.72 124.04,33.37  124.49,35.02 124.72,36.82 124.72,38.75 z M 121.07,38.75 C 121.07,37.07 120.9,35.57 120.54,34.25  120.19,32.92 119.65,31.8 118.92,30.85  118.19,29.92 117.27,29.2 116.17,28.7  115.04,28.22 113.74,27.97 112.27,27.97  111.1,27.97 109.97,28.15 108.9,28.52  107.82,28.9 106.87,29.52 106.04,30.37  105.22,31.25 104.57,32.37 104.1,33.77  103.6,35.17 103.35,36.9 103.35,38.95  103.35,40.95 103.6,42.65 104.07,44.02  104.54,45.4 105.19,46.52 106.02,47.37  106.82,48.22 107.77,48.82 108.85,49.2  109.92,49.57 111.04,49.77 112.22,49.77  115.1,49.77 117.27,48.82 118.79,46.92  120.32,45.02 121.07,42.3 121.07,38.75 z"/>
<path fill="rgb(197,0,11)" d="M 154.74,26.4 C 154.74,27.87 154.49,29.3 153.99,30.62  153.47,31.97 152.72,33.15 151.69,34.15  150.67,35.17 149.39,35.97 147.87,36.57  146.32,37.2 144.52,37.5 142.49,37.5 L 132.97,37.5  132.97,52  129.27,52  129.27,15.64  142.17,15.64 C 144.24,15.64 146.07,15.89 147.64,16.42  149.22,16.95 150.52,17.67 151.6,18.6  152.64,19.52 153.44,20.65 153.97,21.97  154.49,23.3 154.74,24.77 154.74,26.4 z M 150.97,26.42 C 150.97,23.95 150.19,22.05 148.67,20.67  147.12,19.29 144.82,18.62 141.74,18.62 L 132.97,18.62  132.97,34.54  141.94,34.54 C 143.49,34.54 144.85,34.35 145.97,33.92  147.1,33.52 148.04,32.95 148.79,32.22  149.52,31.5 150.07,30.62 150.44,29.65  150.79,28.67 150.97,27.6 150.97,26.42 z"/>
<path fill="rgb(197,0,11)" d="M 181.35,52 L 166.02,33.22  162.12,37.22  162.12,52  158.42,52  158.42,15.64  162.12,15.64  162.12,33.02  179.17,15.64  183.6,15.64  168.42,30.87  185.82,52  181.35,52 z"/>
<path fill="rgb(197,0,11)" d="M 189.8,52 L 189.8,15.64  193.5,15.64  193.5,52  189.8,52 z"/>
<line x1="10" y1="64" x2="205" y2="64" stroke-width="1.2" stroke="#000000"/>
<path fill="#000000" d="M 25.3,80.31 C 25.3,80.94 25.07,81.49 24.62,81.95  24.16,82.42 23.61,82.65 22.95,82.65  22.33,82.65 21.79,82.42 21.35,81.96  20.9,81.5 20.67,80.95 20.67,80.31  20.67,79.67 20.9,79.13 21.35,78.69  21.8,78.25 22.33,78.03 22.95,78.03  23.6,78.03 24.15,78.25 24.61,78.7  25.07,79.15 25.3,79.69 25.3,80.31 z"/>
<path fill="#000000" d="M 47.65,78.89 C 47.65,80.36 47.37,81.65 46.81,82.76  46.24,83.87 45.43,84.72 44.38,85.31  43.33,85.9 42.08,86.2 40.65,86.2  39.2,86.2 37.96,85.91 36.91,85.32  35.86,84.73 35.05,83.88 34.5,82.77  33.95,81.66 33.67,80.37 33.67,78.89  33.67,76.64 34.29,74.87 35.52,73.59  36.75,72.33 38.47,71.7 40.67,71.7  42.1,71.7 43.35,71.98 44.4,72.55  45.45,73.12 46.26,73.95 46.82,75.03  47.37,76.13 47.65,77.41 47.65,78.89 z M 45.7,78.89 C 45.7,77.14 45.26,75.76 44.39,74.76  43.51,73.76 42.27,73.26 40.67,73.26  39.06,73.26 37.81,73.75 36.93,74.73  36.05,75.73 35.61,77.11 35.61,78.89  35.61,80.66 36.06,82.06 36.95,83.09  37.84,84.13 39.07,84.65 40.65,84.65  42.28,84.65 43.53,84.15 44.4,83.14  45.27,82.14 45.7,80.72 45.7,78.89 z"/>
<path fill="#000000" d="M 116.29,86 L 112.63,80.15  108.24,80.15  108.24,86  106.33,86  106.33,71.91  112.96,71.91 C 114.55,71.91 115.77,72.26 116.64,72.97  117.5,73.68 117.93,74.67 117.93,75.94  117.93,76.98 117.63,77.87 117.02,78.58  116.41,79.29 115.56,79.73 114.49,79.93 L 118.49,86  116.29,86 z M 116.01,75.96 C 116.01,75.14 115.73,74.51 115.18,74.08  114.62,73.65 113.82,73.44 112.77,73.44 L 108.24,73.44  108.24,78.64  112.85,78.64 C 113.86,78.64 114.64,78.4 115.19,77.93  115.74,77.46 116.01,76.81 116.01,75.96 z"/>
<path fill="#000000" d="M 175.86,78.89 C 175.86,76.59 176.47,74.83 177.7,73.58  178.93,72.33 180.65,71.7 182.87,71.7  184.43,71.7 185.7,71.96 186.67,72.48  187.64,73.02 188.39,73.86 188.92,75.02 L 187.1,75.56 C 186.7,74.76 186.15,74.18 185.45,73.81  184.74,73.44 183.87,73.26 182.82,73.26  181.19,73.26 179.95,73.75 179.09,74.73  178.23,75.72 177.8,77.09 177.8,78.89  177.8,80.67 178.26,82.07 179.17,83.1  180.08,84.13 181.35,84.65 182.96,84.65  183.88,84.65 184.74,84.51 185.54,84.23  186.33,83.95 186.98,83.57 187.47,83.09 L 187.47,80.55  183.26,80.55  183.26,78.95  189.23,78.95  189.23,83.81 C 188.48,84.57 187.57,85.16 186.49,85.57  185.4,85.99 184.23,86.2 182.96,86.2  181.49,86.2 180.22,85.91 179.15,85.32  178.08,84.73 177.27,83.89 176.71,82.78  176.14,81.68 175.86,80.38 175.86,78.89 z"/>
</g>
</svg></div><div class="text" style="margin-top:30pt;margin-bottom:20pt;text-align:center;font-size:20pt;font-family:'Times New Roman',Serif">JSON Signatures</div><div class="text" style="margin-bottom:5pt">Signing of <a href="https://tools.ietf.org/rfc/rfc7159.txt" target="_blank" title="JSON">JSON</a> data essentially comes in two flavors:<ul><li>&quot;Freezing&quot; the data and put it in a specific signature container. <a href="https://tools.ietf.org/rfc/rfc7515.txt" target="_blank" title="RFC7515">RFC7515</a> (JSON Web Signature) represents such a specification.</li><li>Canonicalize the data and add a signature to it.</li></ul>This document briefly outlines an example of the latter called <a href="https://cyberphone.github.io/openkeystore/resources/docs/jcs.html" target="_blank" title="JCS">JCS</a> (JSON Cleartext Signature). <p>Due to the fact that there is currently no generally accepted canonicalization method for JSON, JCS builds on a much simpler concept (&quot;Predictable Serialization&quot;) which did not become fully practical until <a href="http://www.ecma-international.org/ecma-262/6.0/ECMA-262.pdf" target="_blank" title="ECMAScript">ECMAScript</a> V6 was launched. ECMAScript in short says that JSON (and JavaScript) property order <i>must be respected</i> during parsing and serialization which eliminates canonicalization entirely and enables the creation of &quot;Crypto&nbsp;Safe&quot; JSON objects that can travel securely through different systems without getting corrupted.</p></div><div class="header">Background<br></div><div class="text">Although JCS is not tied to any specific application, it grew from the needs of the payment industry where &quot;Stacked&quot; signed messages begin to play an important role. Below is a (fictitious) example of such a scheme, where one message embeds another (inner) message:</div><div class="text" style="text-align:center"><table style="margin-left:auto;margin-right:auto;margin-top:10pt;margin-bottom:20pt"><tr><td><span style="font-weight:bold">&nbsp;<br>Authorization</span><table style="margin:15pt"><tr><td style="padding:10pt 15pt 10pt 15pt;font-weight:bold">PaymentRequest</td></tr><tr><td style="background:#e8ffe8">Public Key</td></tr><tr><td style="background:#ffe8e8">Signature</td></tr></table></td></tr><tr><td style="background:#e8ffe8">X.509 Certificate Path</td></tr><tr><td style="background:#ffe8e8">Signature</td></tr></table></div><div class="text">This scheme could be expressed in JCS like the following (note that the <code>@context</code> and <code>@qualifier</code> properties <i>are not a part of JCS</i>, but serve as a possible way to assign a type to a JSON object):</div><div class="json">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#606060">@context</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">https://json.sample-standards.org/payment</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#606060">@qualifier</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">Authorization</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">paymentRequest</span>&quot;:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#606060">@context</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">https://json.sample-standards.org/payment</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#606060">@qualifier</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">PaymentRequest</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">payee</span>&quot;:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">commonName</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">Demo Merchant</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">id</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">1209000</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">amount</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">235.50</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">currency</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">USD</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">referenceId</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">05630753</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">timeStamp</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">2016-02-02T10:07:41Z</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">signature</span>&quot;:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">algorithm</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">ES256</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">publicKey</span>&quot;:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">type</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">EC</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">curve</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">P-256</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">x</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">67f720OvQfRJaolZjIz_l-5qkCCJ0wK9MljNCOga-00</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">y</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">rDase7PLLOrppIfJpSHdj8vIjVz1BAi8tIFR0fmeyLY</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">value</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">yzzL-OQwAMdquz-jjd2YHXyYrCjCe2HkLhpM_o37Od9pK5HoUpdLHUcd97ftf59zMJ5hcdDyxkYJjLjjeLNylQ</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">transactionId</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">#1250000005</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">timeStamp</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">2016-02-02T10:07:42Z</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">signature</span>&quot;:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">algorithm</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">ES256</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">signerCertificate</span>&quot;:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">issuer</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">CN=Payment Network Sub CA3,C=EU</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">serialNumber</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">1441094164079</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">subject</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">CN=mybank.com,2.5.4.5=#130434353031,C=FR</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">certificatePath</span>&quot;:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#0000C0">MIIBtTCCAVmgAwIBAgIGAU-H595vMAwGCCqGSM49BAMCBQAwLzELMAkGA1UEBhMCRVUxIDAeBgNVBAMTF1BheW1lbnQgTmV0d29yayBTdWIgQ0EzMB4XDTE0MDEwMTAwMDAwMFoXDTIwMDcxMDA5NTk1OVowMTELMAkGA1UEBhMCRlIxDTALBgNVBAUTBDQ1MDExEzARBgNVBAMTCm15YmFuay5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAASjhSNHJyRmQi5U-r7WkNns0D6b1n1gQybglCvyXgIA2RCSJXJKHZrw37giKmGqX-4cXU3x__zOQXN1U48VAwNvo10wWzAJBgNVHRMEAjAAMA4GA1UdDwEB_wQEAwIHgDAdBgNVHQ4EFgQUOdV3H3r6TufkQh-dqhcXMrjUY2kwHwYDVR0jBBgwFoAUy0fdXq1oJ6GFAJo10qx609KDARAwDAYIKoZIzj0EAwIFAANIADBFAiEAluqzuTTzVBG74AoALaWRsRn9QALg2N6C3sIlztm6sPoCID1ZnGnTrhz-CodxuGvg7fkOVfdffdSuEdyhQXemGtT4</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#0000C0">MIIDcjCCAVqgAwIBAgIBAzANBgkqhkiG9w0BAQ0FADAwMQswCQYDVQQGEwJVUzEhMB8GA1UEAxMYUGF5bWVudCBOZXR3b3JrIFJvb3QgQ0ExMB4XDTEyMDcxMDEwMDAwMFoXDTI1MDcxMDA5NTk1OVowLzELMAkGA1UEBhMCRVUxIDAeBgNVBAMTF1BheW1lbnQgTmV0d29yayBTdWIgQ0EzMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEcX8CYrYFoQhPbTci93W5qyCx0i0H-FvmXIvH5XNBlnNLfPkRacqn0PRFNn4Z4o3BVxI3x5yob9C7FqpKslcCgKNjMGEwDwYDVR0TAQH_BAUwAwEB_zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFMtH3V6taCehhQCaNdKsetPSgwEQMB8GA1UdIwQYMBaAFELvwS_Fk7IfHMWJeu-yhGdM-5EiMA0GCSqGSIb3DQEBDQUAA4ICAQBNQdIOSU2fB5JjCO9Q0mCfOxDXFihMKSiOanAJ_r2rxGN7Uprw32JPsJnQhuxbrwmniKgCmBVD6Jak4GtHSLVvJPjpf_Pe7pUbyMb6iNNeV3SmJvsHoE2m5WdSGxjIPxK4NOBv3Mm3Ib1_kxyVceegHEHRUk5IXyQUNV1sUsxIypELjC8bAIvnMj_J1FlP8nsfehbibT3XH04uvX9dgNGexpz8BDLa0fEpLzrKoyMtUbSwg88_WsdPnkvp1fhiwCF9GpIHwsXi3Nv-Wdgdyn-hKFQe6sP2FmsPDiI2qWqX7fEs0VN5Uo2oI5Q2T6673JiZnkycXYLNIRpc06KSTcs8B45u5NMAyvLx3l4S8My-HK4nfiqbF3TPVGJkq4aXAAZnhVcQTrO71tQ0BJMibKjz6sylBEnhlFQs3ICcesaGVXV3JVbwtf_OkAUUUduYWOmUZU5ng3vNJV0ofqfvoNcBlVsrWpFNqImy2-icUxiad_8--ortiq4WG594Ap52CqXt7K8UcZaMLDAj2COOmo1gy9iUjzgyzSqnYye2Gqr72ts5jd8B8wkM1rM0JDM6DvCyJgHVvc8VTNE7Mt2Mu9XsofQkdLdDgrPuo6AV88g1BGk7cY0FJMJFoBAlrj98A4KslbeGBV7AUGuzvS-w1VA6dRH6_5Fv2eSHXW6pzA_D8Q</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">value</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">7Y_Xhfhr5EFX1JVX8CO4yzlru_dowcYW-jze8M3lL-uYjLL63TdmfNVXswmo1mVDF_w8z17lzCV2hC2V4ZMsvw</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></div><div class="text">The example above would if converted to <a href="https://tools.ietf.org/rfc/rfc7515.txt" target="_blank" title="RFC7515">RFC7515</a> be slightly more convoluted since data must be Base64-encoded (which was a core rationale for developing JCS):</div><div class="json">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">payload</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">eyJAY29udGV4dCI6Imh0dHBzOi8vanNvbi5zYW1wbGUtc3RhbmRhcmRzLm9yZy9wYXltZW50IiwiQHF1YWxpZmllciI6IkF1dGhvcml6YXRpb24iLCJwYXltZW50UmVxdWVzdCI6eyJwYXlsb2FkIjoiZXlKQVkyOXVkR1Y0ZENJNkltaDBkSEJ6T2k4dmFuTnZiaTV6WVcxd2JHVXRjM1JoYm1SaGNtUnpMbTl5Wnk5d1lYbHRaVzUwSWl3aVFIRjFZV3hwWm1sbGNpSTZJbEJoZVcxbGJuUlNaWEYxWlhOMElpd2ljR0Y1WldVaU9uc2lZMjl0Ylc5dVRtRnRaU0k2SWtSbGJXOGdUV1Z5WTJoaGJuUWlMQ0pwWkNJNklqRXlNRGt3TURBaWZTd2lZVzF2ZFc1MElqb2lNak0xTGpVd0lpd2lZM1Z5Y21WdVkza2lPaUpWVTBRaUxDSnlaV1psY21WdVkyVkpaQ0k2SWpBMU5qTXdOelV6SWl3aWRHbHRaVk4wWVcxd0lqb2lNakF4Tmkwd01pMHdNbFF4TURvd056bzBNVm9pZlEiLCJwcm90ZWN0ZWQiOiJleUpoYkdjaU9pSkZVekkxTmlJc0ltcDNheUk2ZXlKcmRIa2lPaUpGUXlJc0ltTnlkaUk2SWxBdE1qVTJJaXdpZUNJNklqWTNaamN5TUU5MlVXWlNTbUZ2YkZwcVNYcGZiQzAxY1d0RFEwb3dkMHM1VFd4cVRrTlBaMkV0TURBaUxDSjVJam9pY2tSaGMyVTNVRXhNVDNKd2NFbG1TbkJUU0dScU9IWkphbFo2TVVKQmFUaDBTVVpTTUdadFpYbE1XU0o5ZlEiLCJzaWduYXR1cmUiOiJxX1dTQTYtQTk2cDF3N05nQkxORWtDVnlrU1E4bWdFbHNkT1pFV25HNlMzVGZGeEtLM0NuZjJ1YzJLaC0wOFQ0UjdGb2xxQmk5YkJMSE4wVk5mR2NsUSJ9LCJ0cmFuc2FjdGlvbklkIjoiIzEyNTAwMDAwMDUiLCJ0aW1lU3RhbXAiOiIyMDE2LTAyLTAyVDEwOjA3OjQyWiJ9</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">protected</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">eyJhbGciOiJFUzI1NiIsIng1YyI6WyJNSUlCdFRDQ0FWbWdBd0lCQWdJR0FVK0g1OTV2TUF3R0NDcUdTTTQ5QkFNQ0JRQXdMekVMTUFrR0ExVUVCaE1DUlZVeElEQWVCZ05WQkFNVEYxQmhlVzFsYm5RZ1RtVjBkMjl5YXlCVGRXSWdRMEV6TUI0WERURTBNREV3TVRBd01EQXdNRm9YRFRJd01EY3hNREE1TlRrMU9Wb3dNVEVMTUFrR0ExVUVCaE1DUmxJeERUQUxCZ05WQkFVVEJEUTFNREV4RXpBUkJnTlZCQU1UQ20xNVltRnVheTVqYjIwd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTamhTTkhKeVJtUWk1VStyN1drTm5zMEQ2YjFuMWdReWJnbEN2eVhnSUEyUkNTSlhKS0hacnczN2dpS21HcVgrNGNYVTN4Ly96T1FYTjFVNDhWQXdOdm8xMHdXekFKQmdOVkhSTUVBakFBTUE0R0ExVWREd0VCL3dRRUF3SUhnREFkQmdOVkhRNEVGZ1FVT2RWM0gzcjZUdWZrUWgrZHFoY1hNcmpVWTJrd0h3WURWUjBqQkJnd0ZvQVV5MGZkWHExb0o2R0ZBSm8xMHF4NjA5S0RBUkF3REFZSUtvWkl6ajBFQXdJRkFBTklBREJGQWlFQWx1cXp1VFR6VkJHNzRBb0FMYVdSc1JuOVFBTGcyTjZDM3NJbHp0bTZzUG9DSUQxWm5HblRyaHorQ29keHVHdmc3ZmtPVmZkZmZkU3VFZHloUVhlbUd0VDQiLCJNSUlEY2pDQ0FWcWdBd0lCQWdJQkF6QU5CZ2txaGtpRzl3MEJBUTBGQURBd01Rc3dDUVlEVlFRR0V3SlZVekVoTUI4R0ExVUVBeE1ZVUdGNWJXVnVkQ0JPWlhSM2IzSnJJRkp2YjNRZ1EwRXhNQjRYRFRFeU1EY3hNREV3TURBd01Gb1hEVEkxTURjeE1EQTVOVGsxT1Zvd0x6RUxNQWtHQTFVRUJoTUNSVlV4SURBZUJnTlZCQU1URjFCaGVXMWxiblFnVG1WMGQyOXlheUJUZFdJZ1EwRXpNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVjWDhDWXJZRm9RaFBiVGNpOTNXNXF5Q3gwaTBIK0Z2bVhJdkg1WE5CbG5OTGZQa1JhY3FuMFBSRk5uNFo0bzNCVnhJM3g1eW9iOUM3RnFwS3NsY0NnS05qTUdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUNBUVl3SFFZRFZSME9CQllFRk10SDNWNnRhQ2VoaFFDYU5kS3NldFBTZ3dFUU1COEdBMVVkSXdRWU1CYUFGRUx2d1MvRms3SWZITVdKZXUreWhHZE0rNUVpTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFCTlFkSU9TVTJmQjVKakNPOVEwbUNmT3hEWEZpaE1LU2lPYW5BSi9yMnJ4R043VXBydzMySlBzSm5RaHV4YnJ3bW5pS2dDbUJWRDZKYWs0R3RIU0xWdkpQanBmL1BlN3BVYnlNYjZpTk5lVjNTbUp2c0hvRTJtNVdkU0d4aklQeEs0Tk9CdjNNbTNJYjEva3h5VmNlZWdIRUhSVWs1SVh5UVVOVjFzVXN4SXlwRUxqQzhiQUl2bk1qL0oxRmxQOG5zZmVoYmliVDNYSDA0dXZYOWRnTkdleHB6OEJETGEwZkVwTHpyS295TXRVYlN3Zzg4L1dzZFBua3ZwMWZoaXdDRjlHcElId3NYaTNOditXZGdkeW4raEtGUWU2c1AyRm1zUERpSTJxV3FYN2ZFczBWTjVVbzJvSTVRMlQ2NjczSmlabmt5Y1hZTE5JUnBjMDZLU1RjczhCNDV1NU5NQXl2THgzbDRTOE15K0hLNG5maXFiRjNUUFZHSmtxNGFYQUFabmhWY1FUck83MXRRMEJKTWliS2p6NnN5bEJFbmhsRlFzM0lDY2VzYUdWWFYzSlZid3RmL09rQVVVVWR1WVdPbVVaVTVuZzN2TkpWMG9mcWZ2b05jQmxWc3JXcEZOcUlteTIraWNVeGlhZC84KytvcnRpcTRXRzU5NEFwNTJDcVh0N0s4VWNaYU1MREFqMkNPT21vMWd5OWlVanpneXpTcW5ZeWUyR3FyNzJ0czVqZDhCOHdrTTFyTTBKRE02RHZDeUpnSFZ2YzhWVE5FN010Mk11OVhzb2ZRa2RMZERnclB1bzZBVjg4ZzFCR2s3Y1kwRkpNSkZvQkFscmo5OEE0S3NsYmVHQlY3QVVHdXp2Uyt3MVZBNmRSSDYvNUZ2MmVTSFhXNnB6QS9EOFE9PSJdfQ</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#C00000">signature</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">YQsbT55mws8PRiKxaohxCsNW7xhttA6zJAhm_ua2-K90ioNsuOL5NnugiIxBqsB9uC8InmiYtvrw1TcHYgp4wA</span>&quot;<br>}<br></div><div class="text">Since <a href="https://cyberphone.github.io/openkeystore/resources/docs/jcs.html" target="_blank" title="JCS">JCS</a> is compatible with <a href="http://www.ecma-international.org/ecma-262/6.0/ECMA-262.pdf" target="_blank" title="ECMAScript">ECMAScript</a>, you can also use  JCS signatures in browsers. The following shows how the <code>PaymentRequest</code> message could be featured inside of an HTML5 document:</div><div class="json"><span style="color:orange">var</span>&nbsp;<span style="color:purple">paymentRequest</span>&nbsp;=&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">//&nbsp;The&nbsp;Data</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#606060">@context</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">https://json.sample-standards.org/payment</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span style="color:#606060">@qualifier</span>&quot;:&nbsp;&quot;<span style="color:#0000C0">PaymentRequest</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">payee</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">commonName</span>:&nbsp;&quot;<span style="color:#0000C0">Demo Merchant</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">id</span>:&nbsp;&quot;<span style="color:#0000C0">1209000</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">amount</span>:&nbsp;&quot;<span style="color:#0000C0">235.50</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">currency</span>:&nbsp;&quot;<span style="color:#0000C0">USD</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">referenceId</span>:&nbsp;&quot;<span style="color:#0000C0">05630753</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">timeStamp</span>:&nbsp;&quot;<span style="color:#0000C0">2016-02-02T10:07:41Z</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">//&nbsp;The&nbsp;Signature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">signature</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">algorithm</span>:&nbsp;&quot;<span style="color:#0000C0">ES256</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">publicKey</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">type</span>:&nbsp;&quot;<span style="color:#0000C0">EC</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">curve</span>:&nbsp;&quot;<span style="color:#0000C0">P-256</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">x</span>:&nbsp;&quot;<span style="color:#0000C0">67f720OvQfRJaolZjIz_l-5qkCCJ0wK9MljNCOga-00</span>&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">y</span>:&nbsp;&quot;<span style="color:#0000C0">rDase7PLLOrppIfJpSHdj8vIjVz1BAi8tIFR0fmeyLY</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#C00000">value</span>:&nbsp;&quot;<span style="color:#0000C0">yzzL-OQwAMdquz-jjd2YHXyYrCjCe2HkLhpM_o37Od9pK5HoUpdLHUcd97ftf59zMJ5hcdDyxkYJjLjjeLNylQ</span>&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>};<br></div>V0.6, A.Rundgren, 2016-02-22</body></html>